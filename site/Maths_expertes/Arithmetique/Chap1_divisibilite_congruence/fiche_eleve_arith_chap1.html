<!DOCTYPE html>
  <html lang="fr">
    <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>Fiche mémo & méthodologie — Arithmétique (Maths expertes)</title>
      <style>
        :root{--bg:#0b1020;--bg2:#11162a;--card:#151b34;--text:#eef2ff;--muted:#a2b0d6;--primary:#6aa6ff;--accent:#22d3ee;--good:#0b3d23;--bad:#65121f;--border:#28314f;--shadow:0 10px 30px rgba(0,0,0,.25)}
        .light{--bg:#f6f7fb;--bg2:#eef0f8;--card:#fff;--text:#0f172a;--muted:#4b5563;--primary:#3b82f6;--accent:#06b6d4;--good:#059669;--bad:#b91c1c;--border:#e5e7eb;--shadow:0 10px 30px rgba(2,6,23,.06)}
        html,body{height:100%}
        body{margin:0;background:var(--bg);color:var(--text);font:16px/1.6 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
        .container{max-width:1100px;margin:0 auto;padding:26px 18px 90px}
        header{position:sticky;top:0;background:linear-gradient(180deg,var(--bg) 80%,#0000);backdrop-filter:saturate(1.2);z-index:20;padding-bottom:8px}
        .toolbar{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between}
        .buttons{display:flex;gap:10px;flex-wrap:wrap}
        .btn{background:var(--card);border:1px solid var(--border);color:var(--text);padding:9px 14px;border-radius:14px;cursor:pointer;box-shadow:var(--shadow);display:inline-flex;align-items:center;gap:8px}
        .btn:hover{filter:brightness(1.05)}
        .badge{display:inline-block;font-size:.8rem;color:white;background:linear-gradient(135deg,var(--accent),#7dd3fc);padding:2px 10px;border-radius:999px;margin-left:6px}
        .muted{color:var(--muted)}
        .card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:18px;box-shadow:var(--shadow);margin-bottom:18px}
        h1{font-size:clamp(1.4rem,2.2vw + .8rem,2.4rem);margin:8px 0}
        h2{font-size:1.45rem;margin:.2rem 0 .6rem}
        h3{font-size:1.1rem;margin:.2rem 0}
        .grid{display:grid;gap:18px}
        .cols-2{grid-template-columns:1.1fr .9fr}
        @media (max-width:980px){.cols-2{grid-template-columns:1fr}}
        .pill{display:inline-flex;gap:8px;align-items:center;background:var(--bg2);padding:8px 12px;border-radius:999px;border:1px solid var(--border)}
        .section{scroll-margin-top:90px}
        details{background:var(--bg2);border:1px solid var(--border);border-radius:14px;padding:10px 12px;margin:.6rem 0}
        summary{cursor:pointer;font-weight:600}
        .step{display:flex;gap:12px;align-items:flex-start;border-left:3px solid #30406e;padding:10px 12px;margin:10px 0;background:linear-gradient(90deg,#0000,rgba(99,102,241,.08))}
        .step .n{flex:0 0 26px;height:26px;display:grid;place-items:center;border-radius:8px;background:#334155;color:#fff;font-weight:700}
        .result{background:var(--bg2);border:1px dashed #3b4a77;border-radius:10px;padding:8px 10px;margin-top:8px}
        .ok{background:var(--good);border-color:#0f5132;color:#fff}
        .err{background:var(--bad);border-color:#842029;color:#fff}
        .input{background:var(--bg2);border:1px solid var(--border);border-radius:10px;padding:9px 10px;color:var(--text)}
        .input:focus{outline:2px solid var(--primary)}
        .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Courier New",monospace}
        .hr{height:1px;background:linear-gradient(90deg,#0000,#39508f,#0000);margin:12px 0}
        nav.card ol{margin:0 0 8px 18px}
        .sticky-footer{position:fixed;bottom:16px;right:16px;display:flex;flex-direction:column;gap:10px}
        .goodbox{background:rgba(16,185,129,.12);border:1px solid rgba(16,185,129,.35)}
        .badbox{background:rgba(239,68,68,.12);border:1px solid rgba(239,68,68,.35)}
        .print-only{display:none}
        @media print{
          .buttons, .sticky-footer{display:none !important}
          nav.card{display:none !important}
          .grid.cols-2{grid-template-columns:1fr !important}
          .print-only{display:block}
          details{display:block}
          details>summary{display:none}
          details>*{display:block}
        }
      </style>
      <script>
        window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],macros:{N:"\\mathbb{N}",Z:"\\mathbb{Z}",Q:"\\mathbb{Q}",R:"\\mathbb{R}",div:"\\mid",ndiv:"\\nmid",pmod:"\\;\\mathrm{mod}\\;"}},svg:{fontCache:'global'}};
      </script>
      <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
    </head>
    <body class="light">
      <div class="container">
        <header>
          <div class="toolbar">
            <div>
              <h1>Fiche mémo & méthodologie <span class="badge">Arithmétique — Maths expertes</span></h1>
              <small class="muted">Auteur : <strong>Alaeddine Ben Rhouma</strong> — Lycée Pierre Mendès France, Tunis • © Propriété intellectuelle</small>
            </div>
            <div class="buttons">
              <button class="btn" id="themeBtn">🌓 Thème</button>
              <button class="btn" id="retypesetBtn">🔄 LaTeX</button>
              <button class="btn" id="printBtn">🖨️ Imprimer</button>
            </div>
          </div>
        </header>

        <section class="card print-only">
          <h2>Sommaire (impression)</h2>
          <ol>
            <li>Résumé du chapitre</li>
            <li>Propriétés P1→P7 — utilité & pièges</li>
            <li>Méthodologie par type d’exercice</li>
            <li>Checklist avant de rendre</li>
            <li>Mini‑entraînements éclair</li>
            <li>Erreurs fréquentes</li>
          </ol>
        </section>

        <section class="grid cols-2">
          <nav class="card">
            <h2>Plan</h2>
            <div class="hr"></div>
            <ol>
              <li><a href="#resume">Résumé du chapitre</a></li>
              <li><a href="#props">Propriétés P1→P7 — utilité & pièges</a></li>
              <li><a href="#methodo">Méthodologie par type d’exercice</a></li>
              <li><a href="#checklist">Checklist avant de rendre</a></li>
              <li><a href="#entrainement">Mini‑entraînements éclair</a></li>
              <li><a href="#erreurs">Erreurs fréquentes</a></li>
            </ol>
            <p class="muted">Toutes les preuves/corrections sont repliées par défaut — dépliez si besoin.</p>
          </nav>

          <div class="card" id="resume">
            <h2>Résumé du chapitre</h2>
            <p><strong>Divisibilité.</strong> Pour $a,b\in\Z$ ($b\ne0$), $b\mid a \iff \exists k\in\Z,\ a=bk$. Ensembles : $a\Z=\{ak:k\in\Z\}$ ; $D(n)$ : diviseurs de $n$.</p>
            <p><strong>Division euclidienne.</strong> $\forall a\in\Z,\ \forall b\in\N^*$, $\exists!\,(q,r)\in\Z^2$ : $a=bq+r$ avec $0\le r<b$.</p>
            <p><strong>Lemme des restes.</strong> $\forall b\ge2$, tout entier est $bq,\,bq+1,\dots,\,bq+(b-1)$.</p>
            <p><strong>Congruences.</strong> $a\equiv b\pmod{n} \iff n\mid(a-b)$ ; opérations compatibles : $+$, $\times$, puissances.</p>
            <div class="result goodbox"><strong>À retenir :</strong> Euclide (pgcd) + congruences = outils pour prouver, factoriser, et résoudre $ax\equiv b\pmod{n}$.</div>
          </div>
        </section>

        <section class="card" id="props">
          <h2>Propriétés P1→P7 — utilité & pièges</h2>
          <div class="control-row" style="margin-bottom:8px"><button class="btn" id="btnOpenProps" aria-pressed="false" type="button">Tout ouvrir</button></div>

          <details><summary><strong>P1</strong> — Si $b\mid a$ alors $a\Z\subset b\Z$ et $D(b)\subset D(a)$</summary>
            <div class="step"><div class="n">Utilité</div><div>Comparer des <b>ensembles de multiples/diviseurs</b> et prouver des inclusions rapidement.</div></div>
            <div class="step"><div class="n">Astuce</div><div>Partir de $a=bk$ puis multiplier par un entier quelconque $m$ : $am=b(km)$.</div></div>
            <details><summary>Mini‑preuve</summary>
              <div class="step"><div class="n">1</div><div>$a=bk \Rightarrow am=b(km)$ $\forall m$ ⇒ $a\Z\subset b\Z$.</div></div>
              <div class="step"><div class="n">2</div><div>$d\in D(b)$ ⇒ $d\mid b$ et $b\mid a$ ⇒ (transitivité) $d\mid a$ ⇒ $d\in D(a)$.</div></div>
            </details>
          </details>

          <details><summary><strong>P2</strong> — Invariance par changement de signe</summary>
            <div class="step"><div class="n">Utilité</div><div>Travailler <b>avec des nombres positifs</b> sans changer la divisibilité.</div></div>
            <div class="step"><div class="n">Mini‑preuve</div><div>$a=bk \Rightarrow a=(-b)(-k)$ et $-a=b(-k)$.</div></div>
          </details>

          <details><summary><strong>P3</strong> — Un entier non nul a un nombre fini de diviseurs</summary>
            <div class="step"><div class="n">Utilité</div><div>Justifier des raisonnements par <b>exhaustion finie</b> (liste de diviseurs).</div></div>
            <div class="step"><div class="n">Mini‑preuve</div><div>Si $d\mid n$ alors $|d|\le|n|$ ⇒ bornes ⇒ ensemble fini.</div></div>
          </details>

          <details><summary><strong>P4</strong> — Transitivité & combinaisons linéaires</summary>
            <div class="step"><div class="n">Utilité</div><div>Prouver des <b>divisibilités composées</b> et former des <b>combinaisons</b> $ub+vc$ multiples de $a$.</div></div>
            <details><summary>Mini‑preuve</summary>
              <div class="step"><div class="n">(i)</div><div>$b=ak_1, c=bk_2$ ⇒ $c=a(k_1k_2)$.</div></div>
              <div class="step"><div class="n">(ii)</div><div>$b=a\beta, c=a\gamma$ ⇒ $ub+vc=a(u\beta+v\gamma)$.</div></div>
            </details>
          </details>

          <details><summary><strong>P5</strong> — Lemme des restes</summary>
            <div class="step"><div class="n">Utilité</div><div>Passer en <b>classes de restes</b> (mod $b$) pour <b>raisonner par cas</b>.</div></div>
            <details><summary>Exemple</summary>
              <div class="step"><div class="n">Ex</div><div>Montrer $n^2+1\not\equiv 0\pmod{3}$ ⇒ $n\equiv 0,1,2$ ⇒ $n^2\equiv 0,1$ ⇒ $n^2+1\equiv 1,2$.</div></div>
            </details>
          </details>

          <details><summary><strong>P6</strong> — Même reste $\Leftrightarrow$ congruence</summary>
            <div class="step"><div class="n">Utilité</div><div>Traduire « même reste » en <b>écriture modulaire</b> et vice‑versa.</div></div>
            <div class="step"><div class="n">Formule</div><div>$a\equiv b\pmod{n} \iff a=b+kn$ pour un $k\in\Z$.</div></div>
          </details>

          <details><summary><strong>P7</strong> — Règles de calcul en congruences</summary>
            <div class="step"><div class="n">Utilité</div><div>Simplifier des expressions : <b>addition, produit, puissance</b> OK ; <b>division</b> ⚠️ non admise en général.</div></div>
            <div class="step"><div class="n">Piège</div><div>De $5\cdot4\equiv5\cdot6\pmod{10}$ on ne peut pas conclure $4\equiv6\pmod{10}$.</div></div>
          </details>
        </section>

        <section class="card" id="methodo">
          <h2>Méthodologie par type d’exercice</h2>
          <div class="control-row" style="margin-bottom:8px"><button class="btn" id="btnOpenMethodo" aria-pressed="false" type="button">Tout ouvrir</button></div>
          <details open><summary><strong>A. Tester une divisibilité</strong> ($b\mid a$ ?)</summary>
            <div class="step"><div class="n">1</div><div>Essayer d’écrire $a=bk$ (calculer $k=a/b$ ; vérifier qu’il est entier).</div></div>
            <div class="step"><div class="n">2</div><div>Sinon, faire la <b>division euclidienne</b> : $a=bq+r$ ; si $r=0$ ⇒ $b\mid a$.</div></div>
            <div class="step"><div class="n">3</div><div>Utiliser P4 pour combiner des divisibilités déjà connues.</div></div>
            <details><summary>Exemple corrigé</summary>
              <div class="step"><div class="n">Ex</div><div>Montrer que $12\mid 3\cdot 4\cdot 10 - 2\cdot 6$. On a $12\mid 3\cdot4\cdot10$ et $12\mid 2\cdot6$ ⇒ par P4(ii), la différence est multiple de 12.</div></div>
            </details>
          </details>

          <details><summary><strong>B. Effectuer une division euclidienne</strong> ($a=bq+r$)</summary>
            <div class="step"><div class="n">1</div><div>Calculer $q=\lfloor a/b\rfloor$, puis $r=a-bq $ en imposant $0 \le r< b$.</div></div>
            <div class="step"><div class="n">2</div><div>Pour le <strong>pgcd</strong>, appliquer <strong>Euclide</strong> : réitérer $x=yq+r$ jusqu’à $r=0$.</div></div>
            <details><summary>Exemple corrigé</summary>
              <div class="step"><div class="n">Ex</div><div>$114=8\cdot14+2$, $8=2\cdot4+0$ ⇒ $\operatorname{pgcd}(114,8)=2$.</div></div>
            </details>
          </details>

          <details><summary><strong>C. Résoudre $ax\equiv b\pmod{n}$</strong></summary>
            <div class="step"><div class="n">1</div><div>Poser $g=\operatorname{pgcd}(a,n)$. Si $g\nmid b$ ⇒ <strong>pas de solution</strong>.</div></div>
            <div class="step"><div class="n">2</div><div>Sinon, réduire : $a'=a/g$, $b'=b/g$, $n'=n/g$ ; trouver l’<b>inverse</b> $a'^{-1}\pmod{n'}$ via Euclide étendu.</div></div>
            <div class="step"><div class="n">3</div><div>Une solution : $x_0\equiv a'^{-1}b'\pmod{n'}$ ; il y a $g$ classes de solutions modulo $n$.</div></div>
            <details><summary>Exemple corrigé</summary>
              <div class="step"><div class="n">Ex</div><div>$3x\equiv 2\pmod{5}$ ⇒ $g=1$, $3^{-1}\equiv 2$ ⇒ $x\equiv 4\pmod{5}$.</div></div>
            </details>
          </details>
        </section>

        <section class="grid cols-2" id="checklist">
          <div class="card">
            <h2>Checklist avant de rendre</h2>
            <ul>
              <li>J’ai écrit la <b>définition</b> ou le <b>théorème</b> utilisé.</li>
              <li>Chaque égalité est justifiée (P1→P7, Euclide, lemme des restes).</li>
              <li>Les <b>conditions</b> sont vérifiées (par ex. $0\le r< b$ ; $g\mid b$).</li>
            <li>Le <strong>vocabulaire</strong> est précis : « $\pmod{n}$ », « reste », « quotient »…</li>
              <li>Je relis les <b>signes</b> (attention aux $-$ et aux simplifications interdites).</li>
            </ul>
          </div>
          <div class="card">
            <h2>Rappels rapides (formules utiles)</h2>
            <ul>
              <li>$a\equiv b\pmod{n} \iff a=b+kn$ ; $a\equiv b\pmod{n} \iff \exists q,q',r:\\ a=nq+r,\\ b=nq'+r$.</li>
              <li>Si $a\mid b$ et $a\mid c$ alors $a\mid (ub+vc)$ ; $\forall u,v\in\Z$.</li>
              <li>$\operatorname{pgcd}(a,b)$ est le <strong>dernier reste non nul</strong> d’Euclide.</li>
              <li>Si $g=\operatorname{pgcd}(a,n)$ et $g\mid b$ alors $ax\equiv b\pmod{n}$ a des solutions, sinon non.</li>
            </ul>
          </div>
        </section>

        <section class="card" id="entrainement">
          <h2>Mini‑entraînements éclair</h2>
          <div class="control-row" style="margin-bottom:8px"><button class="btn" id="btnOpenEntrain" aria-pressed="false" type="button">Tout ouvrir</button></div>
          <div class="step"><div class="n">1</div><div>Compléter : « $56=17\times3+5=17\times2+22$ mais la seconde n’est pas euclidienne car <input class="input mono" id="qA" size="10" placeholder=">" aria-label="Justification (ex. 22 > 17)">. » <button class="btn" onclick="checkText('qA','22 > 17')">Vérifier</button> <span id="qAr" aria-live="polite"></span></div></div>
          <div class="step"><div class="n">2</div><div>Résoudre $5x\equiv 1\pmod{12}$. <details><summary>Correction</summary>$\operatorname{pgcd}(5,12)=1$, $5^{-1}\equiv 5\pmod{12}$ ⇒ $x\equiv 5\pmod{12}$.</details></div></div>
          <div class="step"><div class="n">3</div><div>Déterminer $D(18)$ puis vérifier $D(9)\subset D(18)$. <details><summary>Correction</summary>$D(18)=\{-18, -9, -6, -3, -2, -1, 1, 2, 3, 6, 9, 18\}$, $D(9)=\{-9, -3, -1, 1, 3, 9\}$.</details></div></div>
        </section>

        <section class="card badbox" id="erreurs">
          <h2>Erreurs fréquentes à éviter</h2>
          <ul>
            <li>Écrire $a\equiv b\pmod{n}$ sans vérifier que <strong>$n\mid(a-b)$</strong>.</li>
            <li>« Simplifier » une congruence par un facteur <b>non inversible</b> modulo $n$.</li>
            <li>Oublier la contrainte <b>$0\le r< b$</b> dans une division euclidienne.</li>
            <li>Confondre <b>divise</b> et <b>est multiple de</b>.</li>
          </ul>
        </section>

        <footer class="muted" style="margin-top:22px">© 2025 — Fiche mémo & méthodologie conçue par <strong>Alaeddine Ben Rhouma</strong> (Maths expertes). Tous droits réservés.</footer>
        <div class="sticky-footer"><button class="btn" onclick="scrollTo(0,0)">⬆️ Haut</button> <button class="btn" id="toggleAll" aria-pressed="false">🧩 Tout déplier/replier</button></div>
      </div>

      <script>
  const $=(q)=>document.querySelector(q), $$=(q)=>document.querySelectorAll(q);
  $('#themeBtn').addEventListener('click',()=>{document.body.classList.toggle('light'); MathJax.typesetPromise?.(); });
  $('#retypesetBtn').addEventListener('click',()=>MathJax.typesetPromise?.());
  $('#printBtn').addEventListener('click',()=>window.print());
  $('#toggleAll').addEventListener('click',()=>{ const anyClosed=[...$$('details')].some(d=>!d.open); $$('details').forEach(d=>d.open=anyClosed); const btn=$('#toggleAll'); if(btn){ btn.setAttribute('aria-pressed', anyClosed ? 'true' : 'false'); } });
  window.addEventListener('beforeprint', ()=>{ $$('details').forEach(d=>d.open=true); MathJax.typesetPromise?.(); });

  function toggleSectionDetails(sectionSelector, btnId){ const sec=document.querySelector(sectionSelector); if(!sec) return; const ds=sec.querySelectorAll('details'); if(!ds.length) return; const anyClosed=[...ds].some(d=>!d.open); ds.forEach(d=>d.open=anyClosed); const btn=document.getElementById(btnId); if(btn){ btn.setAttribute('aria-pressed', anyClosed?'true':'false'); btn.textContent = anyClosed ? 'Tout replier' : 'Tout ouvrir'; } MathJax.typesetPromise?.(); }
  document.getElementById('btnOpenProps')?.addEventListener('click',()=>toggleSectionDetails('#props','btnOpenProps'));
  document.getElementById('btnOpenMethodo')?.addEventListener('click',()=>toggleSectionDetails('#methodo','btnOpenMethodo'));
  document.getElementById('btnOpenEntrain')?.addEventListener('click',()=>toggleSectionDetails('#entrainement','btnOpenEntrain'));

        function escRe(s){return s.replace(/[.*+?^${}()|[\]\\]/g,'\\$&');}
        function checkText(id,expected){ const el=$('#'+id), out=$('#'+id+'r'); if(!el) return; let ans=(el.value||'').trim(); let pattern=escRe(expected).replace(/\s\+/g,'\\s*').replace(/×/g,'[×x*]').replace(/\s/g,'\\s*').replace(/>/g,'\\s*>\\s*'); const re=new RegExp('^'+pattern+'$','i'); const ok=re.test(ans); const box=document.createElement('span'); box.className='result '+(ok?'ok':'err'); box.textContent= ok? '✅ Correct' : '❌ Réponse attendue : '+expected; if(out){out.replaceChildren(box);} }
      </script>
    </body>
  </html>
